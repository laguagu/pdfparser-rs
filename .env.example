# PDF Parser Configuration for CSC Rahti 2
# Copy this file to .env and customize as needed

# ============================================================================
# API Security
# ============================================================================

# API Key for authentication (optional but recommended for production)
# If not set, API runs without authentication
# Generate random key: openssl rand -base64 32
API_KEY=your-secret-api-key-here

# ============================================================================
# Parser Configuration (all optional - defaults shown below)
# ============================================================================

# Maximum concurrent pages to process (higher = faster for single user)
# Default: 4 (optimized for speed, uses ~800MB-1GB RAM)
# Lower to 2 if you have multiple containers or limited memory
MAX_CONCURRENCY=4

# Minimum characters required for valid text layer
# Default: 20
TEXT_MIN_CHARS=20

# Run OCR even when text exists (captures charts/diagrams, may cause duplicates)
# Set to "true" for maximum accuracy, "false" for cleaner output
# Default: false
OCR_OVER_TEXT=false

# Extract and OCR embedded images separately
# Default: false
OCR_IMAGES=false

# Extract tables using Camelot Python library
# Default: true
EXTRACT_TABLES=true

# Extract SVG vector text (slower, usually not needed)
# Default: false
SVG_TEXT=false

# OCR DPI (higher = better quality but slower)
# Options: 150 (fast), 300 (balanced), 600 (high quality)
# Default: 300
OCR_DPI=300

# OCR language codes (comma-separated)
# Common: eng, fin, deu, fra, spa, ita, rus, swe, nor, dan
# Default: fin+eng
OCR_LANG=fin+eng

# OCR page segmentation mode
# 3 = Fully automatic (default)
# 6 = Uniform block of text
# 11 = Sparse text
# Default: 3
OCR_PSM=3
